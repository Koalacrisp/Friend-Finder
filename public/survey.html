<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Friend Finder</title>
	<!-- Link to Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<!-- Link to jQuery -->
	<script src="https://code.jquery.com/jquery.js"></script>
	<!-- Link to Bootstrap JS -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<!-- Link to Font Awesome -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
	<!-- Link to Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>
<body>
	<div class="container">
		<h2>Survey Questions</h2>
		<hr>
		<h3>
			<strong>About You</strong>
		</h3>
		<h4>Name (Required)</h4>
		<input id="name" class="form-control" name="" required="" type="text">
		<h4>Link to Photo Image (Required)</h4>
		<input id="photo" class="form-control" name="" required="" type="text">
		<hr>
		<h3>
			<strong>Question 1</strong>
		</h3>
		<h4>People are generally deceitful.</h4>
		<select id="q1" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 2</strong>
		</h3>
		<h4>I prefer to own a dog over a cat as a pet.</h4>
		<select id="q2" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 3</strong>
		</h3>
		<h4>I am a nostalgic person.</h4>
		<select id="q3" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 4</strong>
		</h3>
		<h4>I do not like it when it is raining out.</h4>
		<select id="q4" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 5</strong>
		</h3>
		<h4>I prefer the big city over rural areas.</h4>
		<select id="q5" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 6</strong>
		</h3>
		<h4>Going out camping is preferred over going to the club.</h4>
		<select id="q6" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 7</strong>
		</h3>
		<h4>I'd rather somebody give the cold truth than be dishonest.</h4>
		<select id="q7" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 8</strong>
		</h3>
		<h4>Alcohol is not my thing.</h4>
		<select id="q8" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 9</strong>
		</h3>
		<h4>I prefer the freezing cold to a blistering heat.</h4>
		<select id="q9" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
		<h3>
			<strong>Question 10</strong>
		</h3>
		<h4>Mathematics bore me greatly.</h4>
		<select id="q10" class="chosen-select" data-placeholder="" style="width: 200px;">
	 		<option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>
      	<br>
		<br>
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
		<i class="fa fa-check-circle" aria-hidden="true"></i> Submit
 		</button>
		<footer class="footer">
			<div class="container">
				<p>
					<a href="api/friends">API Friends List</a>
					|
					<a href="github/repo">GitHub Repo</a>
				</p>
			</div>
		</footer>
	</div>

	<script type="text/javascript">
		var config = {
			'.chosen-select'           : {disable_search: true},
			'.chosen-select-width'     : {width:"100%"}
		}
		for (var selector in config) {
			$(selector).chosen(config[selector]);
		}

		$("#submit").on("click", function(){
			function validateForm() {
				var isValid = true;
				$('.form-control').each(function() {
					if ($(this).val() === '')
						isValid = false;
				});
				$('.chosen-select').each(function() {
					if($(this).val() === "")
						isValid = false
				})
				return isValid;
			};
			if (validateForm() == true){
				var userData = {
					name: $("#name").val().trim(),
					photo: $("#photo").val().trim(),
					scores: [$("#q1").val().trim(), $("#q2").val().trim(), $("#q3").val().trim(), $("#q4").val().trim(), $("#q5").val().trim(), $("#q6").val().trim(), $("#q7").val().trim(), $("#q8").val().trim(), $("#q9").val().trim(), $("#q10").val().trim()]
				}
				console.log(userData);

				var currentURL = window.location.origin;
				$.post(currentURL + "/api/friends", userData, function(data){
					if(data==true){
						console.log("You did it fam");
					}
				});
    		}else{
    			alert("Incomplete forms! Complete before submitting!");
    		}
			return false;
		});

		function runFriendQuery(){
			var currentURL = window.location.origin;

			$.ajax({url: currentURL + "/api/friends", method: "GET"})
				.done(function(friendData){
					console.log("__________________________________");
					console.log("URL: " + currentURL + "/api/friends");
					console.log("__________________________________");
					console.log(friendData);
					console.log("__________________________________");
				})
		}
		runFriendQuery();

	</script>
</body>
</html>
